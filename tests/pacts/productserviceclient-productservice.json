{
  "consumer": {
    "name": "ProductServiceClient"
  },
  "provider": {
    "name": "ProductService"
  },
  "interactions": [
    {
      "description": "a request for a product",
      "providerState": "there is a product with ID 1",
      "request": {
        "method": "get",
        "path": "/v1/products/1"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "id": 1,
          "title": "product0",
          "description": "Chair answer nature do benefit be tonight make travel season itself weight hard.",
          "brand": "Wilson Inc",
          "category": "around",
          "price": 1.0,
          "discount": 1.0,
          "rating": 1.0,
          "stock": 1
        },
        "matchingRules": {
          "$.body.id": {
            "match": "type"
          },
          "$.body.description": {
            "match": "type"
          },
          "$.body.brand": {
            "match": "type"
          },
          "$.body.category": {
            "match": "type"
          },
          "$.body.price": {
            "match": "type"
          },
          "$.body.discount": {
            "match": "type"
          },
          "$.body.rating": {
            "match": "type"
          },
          "$.body.stock": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "a request for a product",
      "providerState": "there is no product with ID 7777",
      "request": {
        "method": "get",
        "path": "/v1/products/7777"
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "description": "Invalid resource URI.",
          "status": 404,
          "title": "Not Found"
        },
        "matchingRules": {
          "$.body.description": {
            "match": "regex",
            "regex": "Invalid resource URI."
          },
          "$.body.title": {
            "match": "regex",
            "regex": "Not Found"
          }
        }
      }
    },
    {
      "description": "a request to delete a product",
      "providerState": "there is no product with ID 7777",
      "request": {
        "method": "delete",
        "path": "/v1/products/7777"
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "description": "Invalid resource URI.",
          "status": 404,
          "title": "Not Found"
        },
        "matchingRules": {
          "$.body.description": {
            "match": "regex",
            "regex": "Invalid resource URI."
          },
          "$.body.title": {
            "match": "regex",
            "regex": "Not Found"
          }
        }
      }
    },
    {
      "description": "a request to get list of products",
      "providerState": "there are no products",
      "request": {
        "method": "get",
        "path": "/v1/products"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "links": {
            "first": "https://example.com/v1/products?page=1&per_page=10",
            "last": "https://example.com/v1/products?page=1&per_page=10",
            "next": null,
            "prev": null,
            "self": "https://example.com/v1/products"
          },
          "pagination": {
            "page": 1,
            "pages": 1,
            "per_page": 10,
            "total": 0
          },
          "products": [

          ]
        },
        "matchingRules": {
          "$.body.links.first": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?page=1&per_page=10"
          },
          "$.body.links.last": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?page=1&per_page=10"
          },
          "$.body.links.self": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products"
          }
        }
      }
    },
    {
      "description": "a request to get expanded list of products",
      "providerState": "there are few products",
      "request": {
        "method": "get",
        "path": "/v1/products",
        "query": "expanded=1"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json",
          "ETag": "\"a36c1fae7588366925a982e9a026b1d9\""
        },
        "body": {
          "links": {
            "first": "https://example.com/v1/products?page=1&per_page=10&expanded=1",
            "last": "https://example.com/v1/products?page=1&per_page=10&expanded=1",
            "next": null,
            "prev": null,
            "self": "https://example.com/v1/products?expanded=1"
          },
          "pagination": {
            "page": 1,
            "pages": 1,
            "per_page": 10,
            "total": 3
          },
          "products": [
            {
              "id": 1,
              "title": "Some product title",
              "description": "Some product description",
              "brand": "Green PLC",
              "category": "financial",
              "price": 1.0,
              "discount": 1.0,
              "rating": 1.0,
              "stock": 1
            },
            {
              "id": 1,
              "title": "Some product title",
              "description": "Some product description",
              "brand": "Green PLC",
              "category": "financial",
              "price": 1.0,
              "discount": 1.0,
              "rating": 1.0,
              "stock": 1
            },
            {
              "id": 1,
              "title": "Some product title",
              "description": "Some product description",
              "brand": "Green PLC",
              "category": "financial",
              "price": 1.0,
              "discount": 1.0,
              "rating": 1.0,
              "stock": 1
            }
          ]
        },
        "matchingRules": {
          "$.headers.ETag": {
            "match": "regex",
            "regex": "(?:W\\/)?\"(?:[ !#-~\\u0080-\\u00FF]*|\r\n[\t ]|\\.)*\""
          },
          "$.body.links.first": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?page=1&per_page=10&expanded=1"
          },
          "$.body.links.last": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?page=1&per_page=10&expanded=1"
          },
          "$.body.links.self": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?expanded=1"
          },
          "$.body.products": {
            "min": 3
          },
          "$.body.products[*].*": {
            "match": "type"
          },
          "$.body.products[*].id": {
            "match": "type"
          },
          "$.body.products[*].title": {
            "match": "type"
          },
          "$.body.products[*].description": {
            "match": "type"
          },
          "$.body.products[*].brand": {
            "match": "type"
          },
          "$.body.products[*].category": {
            "match": "type"
          },
          "$.body.products[*].price": {
            "match": "type"
          },
          "$.body.products[*].discount": {
            "match": "type"
          },
          "$.body.products[*].rating": {
            "match": "type"
          },
          "$.body.products[*].stock": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "a request to get collapsed list of products",
      "providerState": "there are few products",
      "request": {
        "method": "get",
        "path": "/v1/products",
        "query": "expanded=0"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json",
          "ETag": "\"a36c1fae7588366925a982e9a026b1d9\""
        },
        "body": {
          "links": {
            "first": "https://example.com/v1/products?page=1&per_page=10",
            "last": "https://example.com/v1/products?page=1&per_page=10",
            "next": null,
            "prev": null,
            "self": "https://example.com/v1/products?expanded=0"
          },
          "pagination": {
            "page": 1,
            "pages": 1,
            "per_page": 10,
            "total": 3
          },
          "products": [
            "https://example.com/v1/products/1",
            "https://example.com/v1/products/1",
            "https://example.com/v1/products/1"
          ]
        },
        "matchingRules": {
          "$.headers.ETag": {
            "match": "regex",
            "regex": "(?:W\\/)?\"(?:[ !#-~\\u0080-\\u00FF]*|\r\n[\t ]|\\.)*\""
          },
          "$.body.links.first": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?page=1&per_page=10"
          },
          "$.body.links.last": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?page=1&per_page=10"
          },
          "$.body.links.self": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\?expanded=0"
          },
          "$.body.products": {
            "min": 3
          },
          "$.body.products[*].*": {
            "match": "type"
          },
          "$.body.products[*]": {
            "match": "regex",
            "regex": "https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\/v1\\/products\\/[0-9]+"
          }
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}